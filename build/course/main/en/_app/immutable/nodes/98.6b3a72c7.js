import{s as qt,f as Ue,o as Ft}from"../chunks/scheduler.37c15a92.js";import{S as Pt,i as Kt,g as i,s as a,r as u,m as Yt,A as Dt,h as p,f as l,c as o,j as x,u as d,x as r,n as Nt,k as n,y as J,a as s,v as h,d as y,t as m,w as M}from"../chunks/index.2bf4358c.js";import{T as Ot}from"../chunks/Tip.363c041f.js";import{C as fe}from"../chunks/CodeBlock.4f5fc1ad.js";import{C as el}from"../chunks/CourseFloatingBanner.15ba07e6.js";import{H as ue}from"../chunks/Heading.8ada512a.js";function tl(be){let c;return{c(){c=Yt("üôãIf you're not familiar with the `with` statement in Python, we recommend checking out the excellent [tutorial](https://realpython.com/python-with-statement/) from Real Python. Come back here after reading that ü§ó")},l(j){c=Nt(j,"üôãIf you're not familiar with the `with` statement in Python, we recommend checking out the excellent [tutorial](https://realpython.com/python-with-statement/) from Real Python. Come back here after reading that ü§ó")},m(j,k){s(j,c,k)},d(j){j&&l(c)}}}function ll(be){let c,j,k,Te,B,ge,G,Ce,R,mt="In the previous sections we have explored and created demos using the <code>Interface</code> class. In this section we will introduce our <strong>newly developed</strong> low-level API called <code>gradio.Blocks</code>.",Je,$,Mt="Now, what‚Äôs the difference between <code>Interface</code> and <code>Blocks</code>?",je,E,wt="<li><p>‚ö° <code>Interface</code>: a high-level API that allows you to create a full machine learning demo simply by providing a list of inputs and outputs.</p></li> <li><p>üß± <code>Blocks</code>: a low-level API that allows you to have full control over the data flows and layout of your application. You can build very complex, multi-step applications using <code>Blocks</code> (as in ‚Äúbuilding blocks‚Äù).</p></li>",xe,Z,Ie,_,Ut="As we saw in the previous sections, the <code>Interface</code> class allows you to easily create full-fledged machine learning demos with just a few lines of code. The <code>Interface</code> API is extremely easy to use but lacks the flexibility that the <code>Blocks</code> API provides. For example, you might want to:",ve,H,ft="<li>Group together related demos as multiple tabs in one web application</li> <li>Change the layout of your demo, e.g. to specify where the inputs and outputs are located</li> <li>Have multi-step interfaces, in which the output of one model becomes the input to the next model, or have more flexible data flows in general</li> <li>Change a component‚Äôs properties (for example, the choices in a dropdown) or its visibility based on user input</li>",ke,S,bt="We will explore all of these concepts below.",Be,Q,Ge,A,Tt="After you have installed Gradio, run the code below as a Python script, a Jupyter notebook, or a Colab notebook.",Re,W,$e,w,gt,Ee,X,Ct="This simple example above introduces 4 concepts that underlie Blocks:",Ze,g,I,de,Jt="Blocks allow you to build web applications that combine markdown, HTML, buttons, and interactive components simply by instantiating objects in Python inside of a <code>with gradio.Blocks</code> context.",ct,v,ut,dt,he,jt="<p>You can define regular Python functions anywhere in your code and run them with user input using <code>Blocks</code>. In our example, we have a simple function that ‚Äúflips‚Äù the input text, but you can write any Python function, from a simple calculation to processing the predictions from a machine learning model.</p>",ht,ye,xt='<p>You can assign events to any <code>Blocks</code> component. This will run your function when the component is clicked, changed, etc. When you assign an event, you pass in three parameters: <code>fn</code>: the function that should be called, <code>inputs</code>: the (list) of input component(s), and <code>outputs</code>: the (list) of output components that should be called.</p> <p>In the example above, we run the <code>flip_text()</code> function when the value in the <code>Textbox</code> named input <code>input</code> changes. The event reads the value in <code>input</code>, passes it as the name parameter to <code>flip_text()</code>, which then returns a value that gets assigned to our second <code>Textbox</code> named <code>output</code>.</p> <p>To see a list of events that each component supports, see the Gradio <a href="https://www.gradio.app/docs/" rel="nofollow">documentation</a>.</p>',yt,me,It="<p>Blocks automatically figures out whether a component should be interactive (accept user input) or not, based on the event triggers you define. In our example, the first textbox is interactive, since its value is used by the <code>flip_text()</code> function. The second textbox is not interactive, since its value is never used as an input. In some cases, you might want to override this, which you can do by passing a boolean to the <code>interactive</code> parameter of the component (e.g. <code>gr.Textbox(placeholder=&quot;Flip this text&quot;, interactive=True)</code>).</p>",_e,V,He,z,vt="How can we use <code>Blocks</code> to customize the layout of our demo? By default, <code>Blocks</code> renders the components that you create vertically in one column. You can change that by creating additional columns <code>with gradio.Column():</code> or rows <code>with gradio.Row():</code> and creating components within those contexts.",Se,L,kt='Here‚Äôs what you should keep in mind: any components created under a <code>Column</code> (this is also the default) will be laid out vertically. Any component created under a <code>Row</code> will be laid out horizontally, similar to the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox" rel="nofollow">flexbox model in web development</a>.',Qe,Y,Bt="Finally, you can also create tabs for your demo by using the <code>with gradio.Tabs()</code> context manager. Within this context, you can create multiple tabs by specifying <code>with gradio.TabItem(name_of_tab):</code> children. Any component created inside of a <code>with gradio.TabItem(name_of_tab):</code> context appears in that tab.",Ae,N,Gt="Now let‚Äôs add a <code>flip_image()</code> function to our demo and add a new tab that flips images. Below is an example with 2 tabs and also uses a Row:",We,q,Xe,U,Rt,Ve,F,$t="You‚Äôll notice that in this example, we‚Äôve also created a <code>Button</code> component in each tab, and we‚Äôve assigned a click event to each button, which is what actually runs the function.",ze,P,Le,K,Et="Just as you can control the layout, <code>Blocks</code> gives you fine-grained control over what events trigger function calls. Each component and many layouts have specific events that they support.",Ye,D,Zt="For example, the <code>Textbox</code> component has 2 events: <code>change()</code> (when the value inside of the textbox changes), and <code>submit()</code> (when a user presses the enter key while focused on the textbox). More complex components can have even more events: for example, the <code>Audio</code> component also has separate events for when the audio file is played, cleared, paused, etc. See the documentation for the events each component supports.",Ne,O,_t="You can attach event trigger to none, one, or more of these events. You create an event trigger by calling the name of the event on the component instance as a function ‚Äî e.g. <code>textbox.change(...)</code> or <code>btn.click(...)</code>. The function takes in three parameters, as discussed above:",qe,ee,Ht="<li><code>fn</code>: the function to run</li> <li><code>inputs</code>: a (list of) component(s) whose values should supplied as the input parameters to the function. Each component‚Äôs value gets mapped to the corresponding function parameter, in order. This parameter can be None if the function does not take any parameters.</li> <li><code>outputs</code>: a (list of) component(s) whose values should be updated based on the values returned by the function. Each return value sets the corresponding component‚Äôs value, in order. This parameter can be None if the function does not return anything.</li>",Fe,te,St="You can even make the input and output component be the same component, as we do in this example that uses a GPT model to do text completion:",Pe,le,Ke,f,Qt,De,se,Oe,ae,At="In some cases, you might want a <em>multi-step demo</em>, in which you reuse the output of one function as the input to the next. This is really easy to do with <code>Blocks</code>, as you can use a component for the input of one event trigger but the output of another. Take a look at the text component in the example below, its value is the result of a speech-to-text model, but also gets passed into a sentiment analysis model:",et,oe,tt,b,Wt,lt,ne,st,ie,Xt="So far, we have seen how to create events to update the value of another component. But what happens if you want to change other properties of a component, like the visibility of a textbox or the choices in a radio button group? You can do this by returning a component class‚Äôs <code>update()</code> method instead of a regular return value from your function.",at,pe,Vt="This is most easily illustrated with an example:",ot,re,nt,T,zt,it,ce,Lt='We just explored all the core concepts of <code>Blocks</code>! Just like with <code>Interfaces</code>, you can create cool demos that can be shared by using <code>share=True</code> in the <code>launch()</code> method or deployed on <a href="https://huggingface.co/spaces" rel="nofollow">Hugging Face Spaces</a>.',pt,Me,rt;return B=new ue({props:{title:"Introduction to Gradio Blocks",local:"introduction-to-gradio-blocks",headingTag:"h1"}}),G=new el({props:{chapter:9,classNames:"absolute z-10 right-0 top-0",notebooks:[{label:"Google Colab",value:"https://colab.research.google.com/github/huggingface/notebooks/blob/master/course/en/chapter9/section7.ipynb"},{label:"Aws Studio",value:"https://studiolab.sagemaker.aws/import/github/huggingface/notebooks/blob/master/course/en/chapter9/section7.ipynb"}]}}),Z=new ue({props:{title:"Why Blocks üß±?",local:"why-blocks-",headingTag:"h3"}}),Q=new ue({props:{title:"Creating a simple demo using Blocks",local:"creating-a-simple-demo-using-blocks",headingTag:"h3"}}),W=new fe({props:{code:"aW1wb3J0JTIwZ3JhZGlvJTIwYXMlMjBnciUwQSUwQSUwQWRlZiUyMGZsaXBfdGV4dCh4KSUzQSUwQSUyMCUyMCUyMCUyMHJldHVybiUyMHglNUIlM0ElM0EtMSU1RCUwQSUwQSUwQWRlbW8lMjAlM0QlMjBnci5CbG9ja3MoKSUwQSUwQXdpdGglMjBkZW1vJTNBJTBBJTIwJTIwJTIwJTIwZ3IuTWFya2Rvd24oJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIyJTIyJTIyJTBBJTIwJTIwJTIwJTIwJTIzJTIwRmxpcCUyMFRleHQhJTBBJTIwJTIwJTIwJTIwU3RhcnQlMjB0eXBpbmclMjBiZWxvdyUyMHRvJTIwc2VlJTIwdGhlJTIwb3V0cHV0LiUwQSUyMCUyMCUyMCUyMCUyMiUyMiUyMiUwQSUyMCUyMCUyMCUyMCklMEElMjAlMjAlMjAlMjBpbnB1dCUyMCUzRCUyMGdyLlRleHRib3gocGxhY2Vob2xkZXIlM0QlMjJGbGlwJTIwdGhpcyUyMHRleHQlMjIpJTBBJTIwJTIwJTIwJTIwb3V0cHV0JTIwJTNEJTIwZ3IuVGV4dGJveCgpJTBBJTBBJTIwJTIwJTIwJTIwaW5wdXQuY2hhbmdlKGZuJTNEZmxpcF90ZXh0JTJDJTIwaW5wdXRzJTNEaW5wdXQlMkMlMjBvdXRwdXRzJTNEb3V0cHV0KSUwQSUwQWRlbW8ubGF1bmNoKCk=",highlighted:`<span class="hljs-keyword">import</span> gradio <span class="hljs-keyword">as</span> gr


<span class="hljs-keyword">def</span> <span class="hljs-title function_">flip_text</span>(<span class="hljs-params">x</span>):
    <span class="hljs-keyword">return</span> x[::-<span class="hljs-number">1</span>]


demo = gr.Blocks()

<span class="hljs-keyword">with</span> demo:
    gr.Markdown(
        <span class="hljs-string">&quot;&quot;&quot;
    # Flip Text!
    Start typing below to see the output.
    &quot;&quot;&quot;</span>
    )
    <span class="hljs-built_in">input</span> = gr.Textbox(placeholder=<span class="hljs-string">&quot;Flip this text&quot;</span>)
    output = gr.Textbox()

    <span class="hljs-built_in">input</span>.change(fn=flip_text, inputs=<span class="hljs-built_in">input</span>, outputs=output)

demo.launch()`,wrap:!1}}),v=new Ot({props:{$$slots:{default:[tl]},$$scope:{ctx:be}}}),V=new ue({props:{title:"Customizing the layout of your demo",local:"customizing-the-layout-of-your-demo",headingTag:"h3"}}),q=new fe({props:{code:"aW1wb3J0JTIwbnVtcHklMjBhcyUyMG5wJTBBaW1wb3J0JTIwZ3JhZGlvJTIwYXMlMjBnciUwQSUwQWRlbW8lMjAlM0QlMjBnci5CbG9ja3MoKSUwQSUwQSUwQWRlZiUyMGZsaXBfdGV4dCh4KSUzQSUwQSUyMCUyMCUyMCUyMHJldHVybiUyMHglNUIlM0ElM0EtMSU1RCUwQSUwQSUwQWRlZiUyMGZsaXBfaW1hZ2UoeCklM0ElMEElMjAlMjAlMjAlMjByZXR1cm4lMjBucC5mbGlwbHIoeCklMEElMEElMEF3aXRoJTIwZGVtbyUzQSUwQSUyMCUyMCUyMCUyMGdyLk1hcmtkb3duKCUyMkZsaXAlMjB0ZXh0JTIwb3IlMjBpbWFnZSUyMGZpbGVzJTIwdXNpbmclMjB0aGlzJTIwZGVtby4lMjIpJTBBJTIwJTIwJTIwJTIwd2l0aCUyMGdyLlRhYnMoKSUzQSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMHdpdGglMjBnci5UYWJJdGVtKCUyMkZsaXAlMjBUZXh0JTIyKSUzQSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMHdpdGglMjBnci5Sb3coKSUzQSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMHRleHRfaW5wdXQlMjAlM0QlMjBnci5UZXh0Ym94KCklMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjB0ZXh0X291dHB1dCUyMCUzRCUyMGdyLlRleHRib3goKSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMHRleHRfYnV0dG9uJTIwJTNEJTIwZ3IuQnV0dG9uKCUyMkZsaXAlMjIpJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwd2l0aCUyMGdyLlRhYkl0ZW0oJTIyRmxpcCUyMEltYWdlJTIyKSUzQSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMHdpdGglMjBnci5Sb3coKSUzQSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMGltYWdlX2lucHV0JTIwJTNEJTIwZ3IuSW1hZ2UoKSUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMGltYWdlX291dHB1dCUyMCUzRCUyMGdyLkltYWdlKCklMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjBpbWFnZV9idXR0b24lMjAlM0QlMjBnci5CdXR0b24oJTIyRmxpcCUyMiklMEElMEElMjAlMjAlMjAlMjB0ZXh0X2J1dHRvbi5jbGljayhmbGlwX3RleHQlMkMlMjBpbnB1dHMlM0R0ZXh0X2lucHV0JTJDJTIwb3V0cHV0cyUzRHRleHRfb3V0cHV0KSUwQSUyMCUyMCUyMCUyMGltYWdlX2J1dHRvbi5jbGljayhmbGlwX2ltYWdlJTJDJTIwaW5wdXRzJTNEaW1hZ2VfaW5wdXQlMkMlMjBvdXRwdXRzJTNEaW1hZ2Vfb3V0cHV0KSUwQSUwQWRlbW8ubGF1bmNoKCk=",highlighted:`<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> gradio <span class="hljs-keyword">as</span> gr

demo = gr.Blocks()


<span class="hljs-keyword">def</span> <span class="hljs-title function_">flip_text</span>(<span class="hljs-params">x</span>):
    <span class="hljs-keyword">return</span> x[::-<span class="hljs-number">1</span>]


<span class="hljs-keyword">def</span> <span class="hljs-title function_">flip_image</span>(<span class="hljs-params">x</span>):
    <span class="hljs-keyword">return</span> np.fliplr(x)


<span class="hljs-keyword">with</span> demo:
    gr.Markdown(<span class="hljs-string">&quot;Flip text or image files using this demo.&quot;</span>)
    <span class="hljs-keyword">with</span> gr.Tabs():
        <span class="hljs-keyword">with</span> gr.TabItem(<span class="hljs-string">&quot;Flip Text&quot;</span>):
            <span class="hljs-keyword">with</span> gr.Row():
                text_input = gr.Textbox()
                text_output = gr.Textbox()
            text_button = gr.Button(<span class="hljs-string">&quot;Flip&quot;</span>)
        <span class="hljs-keyword">with</span> gr.TabItem(<span class="hljs-string">&quot;Flip Image&quot;</span>):
            <span class="hljs-keyword">with</span> gr.Row():
                image_input = gr.Image()
                image_output = gr.Image()
            image_button = gr.Button(<span class="hljs-string">&quot;Flip&quot;</span>)

    text_button.click(flip_text, inputs=text_input, outputs=text_output)
    image_button.click(flip_image, inputs=image_input, outputs=image_output)

demo.launch()`,wrap:!1}}),P=new ue({props:{title:"Exploring events and state",local:"exploring-events-and-state",headingTag:"h3"}}),le=new fe({props:{code:"aW1wb3J0JTIwZ3JhZGlvJTIwYXMlMjBnciUwQSUwQWFwaSUyMCUzRCUyMGdyLkludGVyZmFjZS5sb2FkKCUyMmh1Z2dpbmdmYWNlJTJGRWxldXRoZXJBSSUyRmdwdC1qLTZCJTIyKSUwQSUwQSUwQWRlZiUyMGNvbXBsZXRlX3dpdGhfZ3B0KHRleHQpJTNBJTBBJTIwJTIwJTIwJTIwJTIzJTIwVXNlJTIwdGhlJTIwbGFzdCUyMDUwJTIwY2hhcmFjdGVycyUyMG9mJTIwdGhlJTIwdGV4dCUyMGFzJTIwY29udGV4dCUwQSUyMCUyMCUyMCUyMHJldHVybiUyMHRleHQlNUIlM0EtNTAlNUQlMjAlMkIlMjBhcGkodGV4dCU1Qi01MCUzQSU1RCklMEElMEElMEF3aXRoJTIwZ3IuQmxvY2tzKCklMjBhcyUyMGRlbW8lM0ElMEElMjAlMjAlMjAlMjB0ZXh0Ym94JTIwJTNEJTIwZ3IuVGV4dGJveChwbGFjZWhvbGRlciUzRCUyMlR5cGUlMjBoZXJlJTIwYW5kJTIwcHJlc3MlMjBlbnRlci4uLiUyMiUyQyUyMGxpbmVzJTNENCklMEElMjAlMjAlMjAlMjBidG4lMjAlM0QlMjBnci5CdXR0b24oJTIyR2VuZXJhdGUlMjIpJTBBJTBBJTIwJTIwJTIwJTIwYnRuLmNsaWNrKGNvbXBsZXRlX3dpdGhfZ3B0JTJDJTIwdGV4dGJveCUyQyUyMHRleHRib3gpJTBBJTBBZGVtby5sYXVuY2goKQ==",highlighted:`<span class="hljs-keyword">import</span> gradio <span class="hljs-keyword">as</span> gr

api = gr.Interface.load(<span class="hljs-string">&quot;huggingface/EleutherAI/gpt-j-6B&quot;</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">complete_with_gpt</span>(<span class="hljs-params">text</span>):
    <span class="hljs-comment"># Use the last 50 characters of the text as context</span>
    <span class="hljs-keyword">return</span> text[:-<span class="hljs-number">50</span>] + api(text[-<span class="hljs-number">50</span>:])


<span class="hljs-keyword">with</span> gr.Blocks() <span class="hljs-keyword">as</span> demo:
    textbox = gr.Textbox(placeholder=<span class="hljs-string">&quot;Type here and press enter...&quot;</span>, lines=<span class="hljs-number">4</span>)
    btn = gr.Button(<span class="hljs-string">&quot;Generate&quot;</span>)

    btn.click(complete_with_gpt, textbox, textbox)

demo.launch()`,wrap:!1}}),se=new ue({props:{title:"Creating multi-step demos",local:"creating-multi-step-demos",headingTag:"h3"}}),oe=new fe({props:{code:"ZnJvbSUyMHRyYW5zZm9ybWVycyUyMGltcG9ydCUyMHBpcGVsaW5lJTBBJTBBaW1wb3J0JTIwZ3JhZGlvJTIwYXMlMjBnciUwQSUwQWFzciUyMCUzRCUyMHBpcGVsaW5lKCUyMmF1dG9tYXRpYy1zcGVlY2gtcmVjb2duaXRpb24lMjIlMkMlMjAlMjJmYWNlYm9vayUyRndhdjJ2ZWMyLWJhc2UtOTYwaCUyMiklMEFjbGFzc2lmaWVyJTIwJTNEJTIwcGlwZWxpbmUoJTIydGV4dC1jbGFzc2lmaWNhdGlvbiUyMiklMEElMEElMEFkZWYlMjBzcGVlY2hfdG9fdGV4dChzcGVlY2gpJTNBJTBBJTIwJTIwJTIwJTIwdGV4dCUyMCUzRCUyMGFzcihzcGVlY2gpJTVCJTIydGV4dCUyMiU1RCUwQSUyMCUyMCUyMCUyMHJldHVybiUyMHRleHQlMEElMEElMEFkZWYlMjB0ZXh0X3RvX3NlbnRpbWVudCh0ZXh0KSUzQSUwQSUyMCUyMCUyMCUyMHJldHVybiUyMGNsYXNzaWZpZXIodGV4dCklNUIwJTVEJTVCJTIybGFiZWwlMjIlNUQlMEElMEElMEFkZW1vJTIwJTNEJTIwZ3IuQmxvY2tzKCklMEElMEF3aXRoJTIwZGVtbyUzQSUwQSUyMCUyMCUyMCUyMGF1ZGlvX2ZpbGUlMjAlM0QlMjBnci5BdWRpbyh0eXBlJTNEJTIyZmlsZXBhdGglMjIpJTBBJTIwJTIwJTIwJTIwdGV4dCUyMCUzRCUyMGdyLlRleHRib3goKSUwQSUyMCUyMCUyMCUyMGxhYmVsJTIwJTNEJTIwZ3IuTGFiZWwoKSUwQSUwQSUyMCUyMCUyMCUyMGIxJTIwJTNEJTIwZ3IuQnV0dG9uKCUyMlJlY29nbml6ZSUyMFNwZWVjaCUyMiklMEElMjAlMjAlMjAlMjBiMiUyMCUzRCUyMGdyLkJ1dHRvbiglMjJDbGFzc2lmeSUyMFNlbnRpbWVudCUyMiklMEElMEElMjAlMjAlMjAlMjBiMS5jbGljayhzcGVlY2hfdG9fdGV4dCUyQyUyMGlucHV0cyUzRGF1ZGlvX2ZpbGUlMkMlMjBvdXRwdXRzJTNEdGV4dCklMEElMjAlMjAlMjAlMjBiMi5jbGljayh0ZXh0X3RvX3NlbnRpbWVudCUyQyUyMGlucHV0cyUzRHRleHQlMkMlMjBvdXRwdXRzJTNEbGFiZWwpJTBBJTBBZGVtby5sYXVuY2goKQ==",highlighted:`<span class="hljs-keyword">from</span> transformers <span class="hljs-keyword">import</span> pipeline

<span class="hljs-keyword">import</span> gradio <span class="hljs-keyword">as</span> gr

asr = pipeline(<span class="hljs-string">&quot;automatic-speech-recognition&quot;</span>, <span class="hljs-string">&quot;facebook/wav2vec2-base-960h&quot;</span>)
classifier = pipeline(<span class="hljs-string">&quot;text-classification&quot;</span>)


<span class="hljs-keyword">def</span> <span class="hljs-title function_">speech_to_text</span>(<span class="hljs-params">speech</span>):
    text = asr(speech)[<span class="hljs-string">&quot;text&quot;</span>]
    <span class="hljs-keyword">return</span> text


<span class="hljs-keyword">def</span> <span class="hljs-title function_">text_to_sentiment</span>(<span class="hljs-params">text</span>):
    <span class="hljs-keyword">return</span> classifier(text)[<span class="hljs-number">0</span>][<span class="hljs-string">&quot;label&quot;</span>]


demo = gr.Blocks()

<span class="hljs-keyword">with</span> demo:
    audio_file = gr.Audio(<span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;filepath&quot;</span>)
    text = gr.Textbox()
    label = gr.Label()

    b1 = gr.Button(<span class="hljs-string">&quot;Recognize Speech&quot;</span>)
    b2 = gr.Button(<span class="hljs-string">&quot;Classify Sentiment&quot;</span>)

    b1.click(speech_to_text, inputs=audio_file, outputs=text)
    b2.click(text_to_sentiment, inputs=text, outputs=label)

demo.launch()`,wrap:!1}}),ne=new ue({props:{title:"Updating Component Properties",local:"updating-component-properties",headingTag:"h3"}}),re=new fe({props:{code:"aW1wb3J0JTIwZ3JhZGlvJTIwYXMlMjBnciUwQSUwQSUwQWRlZiUyMGNoYW5nZV90ZXh0Ym94KGNob2ljZSklM0ElMEElMjAlMjAlMjAlMjBpZiUyMGNob2ljZSUyMCUzRCUzRCUyMCUyMnNob3J0JTIyJTNBJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwcmV0dXJuJTIwZ3IuVGV4dGJveC51cGRhdGUobGluZXMlM0QyJTJDJTIwdmlzaWJsZSUzRFRydWUpJTBBJTIwJTIwJTIwJTIwZWxpZiUyMGNob2ljZSUyMCUzRCUzRCUyMCUyMmxvbmclMjIlM0ElMEElMjAlMjAlMjAlMjAlMjAlMjAlMjAlMjByZXR1cm4lMjBnci5UZXh0Ym94LnVwZGF0ZShsaW5lcyUzRDglMkMlMjB2aXNpYmxlJTNEVHJ1ZSklMEElMjAlMjAlMjAlMjBlbHNlJTNBJTBBJTIwJTIwJTIwJTIwJTIwJTIwJTIwJTIwcmV0dXJuJTIwZ3IuVGV4dGJveC51cGRhdGUodmlzaWJsZSUzREZhbHNlKSUwQSUwQSUwQXdpdGglMjBnci5CbG9ja3MoKSUyMGFzJTIwYmxvY2slM0ElMEElMjAlMjAlMjAlMjByYWRpbyUyMCUzRCUyMGdyLlJhZGlvKCUwQSUyMCUyMCUyMCUyMCUyMCUyMCUyMCUyMCU1QiUyMnNob3J0JTIyJTJDJTIwJTIybG9uZyUyMiUyQyUyMCUyMm5vbmUlMjIlNUQlMkMlMjBsYWJlbCUzRCUyMldoYXQlMjBraW5kJTIwb2YlMjBlc3NheSUyMHdvdWxkJTIweW91JTIwbGlrZSUyMHRvJTIwd3JpdGUlM0YlMjIlMEElMjAlMjAlMjAlMjApJTBBJTIwJTIwJTIwJTIwdGV4dCUyMCUzRCUyMGdyLlRleHRib3gobGluZXMlM0QyJTJDJTIwaW50ZXJhY3RpdmUlM0RUcnVlKSUwQSUwQSUyMCUyMCUyMCUyMHJhZGlvLmNoYW5nZShmbiUzRGNoYW5nZV90ZXh0Ym94JTJDJTIwaW5wdXRzJTNEcmFkaW8lMkMlMjBvdXRwdXRzJTNEdGV4dCklMEElMjAlMjAlMjAlMjBibG9jay5sYXVuY2goKQ==",highlighted:`<span class="hljs-keyword">import</span> gradio <span class="hljs-keyword">as</span> gr


<span class="hljs-keyword">def</span> <span class="hljs-title function_">change_textbox</span>(<span class="hljs-params">choice</span>):
    <span class="hljs-keyword">if</span> choice == <span class="hljs-string">&quot;short&quot;</span>:
        <span class="hljs-keyword">return</span> gr.Textbox.update(lines=<span class="hljs-number">2</span>, visible=<span class="hljs-literal">True</span>)
    <span class="hljs-keyword">elif</span> choice == <span class="hljs-string">&quot;long&quot;</span>:
        <span class="hljs-keyword">return</span> gr.Textbox.update(lines=<span class="hljs-number">8</span>, visible=<span class="hljs-literal">True</span>)
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> gr.Textbox.update(visible=<span class="hljs-literal">False</span>)


<span class="hljs-keyword">with</span> gr.Blocks() <span class="hljs-keyword">as</span> block:
    radio = gr.Radio(
        [<span class="hljs-string">&quot;short&quot;</span>, <span class="hljs-string">&quot;long&quot;</span>, <span class="hljs-string">&quot;none&quot;</span>], label=<span class="hljs-string">&quot;What kind of essay would you like to write?&quot;</span>
    )
    text = gr.Textbox(lines=<span class="hljs-number">2</span>, interactive=<span class="hljs-literal">True</span>)

    radio.change(fn=change_textbox, inputs=radio, outputs=text)
    block.launch()`,wrap:!1}}),{c(){c=i("meta"),j=a(),k=i("p"),Te=a(),u(B.$$.fragment),ge=a(),u(G.$$.fragment),Ce=a(),R=i("p"),R.innerHTML=mt,Je=a(),$=i("p"),$.innerHTML=Mt,je=a(),E=i("ul"),E.innerHTML=wt,xe=a(),u(Z.$$.fragment),Ie=a(),_=i("p"),_.innerHTML=Ut,ve=a(),H=i("ul"),H.innerHTML=ft,ke=a(),S=i("p"),S.textContent=bt,Be=a(),u(Q.$$.fragment),Ge=a(),A=i("p"),A.textContent=Tt,Re=a(),u(W.$$.fragment),$e=a(),w=i("iframe"),Ee=a(),X=i("p"),X.textContent=Ct,Ze=a(),g=i("ol"),I=i("li"),de=i("p"),de.innerHTML=Jt,ct=a(),u(v.$$.fragment),ut=Yt(`
The order in which you instantiate components matters as each element gets rendered into the web app in the order it was created. (More complex layouts are discussed below)`),dt=a(),he=i("li"),he.innerHTML=jt,ht=a(),ye=i("li"),ye.innerHTML=xt,yt=a(),me=i("li"),me.innerHTML=It,_e=a(),u(V.$$.fragment),He=a(),z=i("p"),z.innerHTML=vt,Se=a(),L=i("p"),L.innerHTML=kt,Qe=a(),Y=i("p"),Y.innerHTML=Bt,Ae=a(),N=i("p"),N.innerHTML=Gt,We=a(),u(q.$$.fragment),Xe=a(),U=i("iframe"),Ve=a(),F=i("p"),F.innerHTML=$t,ze=a(),u(P.$$.fragment),Le=a(),K=i("p"),K.innerHTML=Et,Ye=a(),D=i("p"),D.innerHTML=Zt,Ne=a(),O=i("p"),O.innerHTML=_t,qe=a(),ee=i("ul"),ee.innerHTML=Ht,Fe=a(),te=i("p"),te.textContent=St,Pe=a(),u(le.$$.fragment),Ke=a(),f=i("iframe"),De=a(),u(se.$$.fragment),Oe=a(),ae=i("p"),ae.innerHTML=At,et=a(),u(oe.$$.fragment),tt=a(),b=i("iframe"),lt=a(),u(ne.$$.fragment),st=a(),ie=i("p"),ie.innerHTML=Xt,at=a(),pe=i("p"),pe.textContent=Vt,ot=a(),u(re.$$.fragment),nt=a(),T=i("iframe"),it=a(),ce=i("p"),ce.innerHTML=Lt,pt=a(),Me=i("p"),this.h()},l(e){const t=Dt("svelte-u9bgzb",document.head);c=p(t,"META",{name:!0,content:!0}),t.forEach(l),j=o(e),k=p(e,"P",{}),x(k).forEach(l),Te=o(e),d(B.$$.fragment,e),ge=o(e),d(G.$$.fragment,e),Ce=o(e),R=p(e,"P",{"data-svelte-h":!0}),r(R)!=="svelte-fnf7hg"&&(R.innerHTML=mt),Je=o(e),$=p(e,"P",{"data-svelte-h":!0}),r($)!=="svelte-y0a3jr"&&($.innerHTML=Mt),je=o(e),E=p(e,"UL",{"data-svelte-h":!0}),r(E)!=="svelte-gs87hb"&&(E.innerHTML=wt),xe=o(e),d(Z.$$.fragment,e),Ie=o(e),_=p(e,"P",{"data-svelte-h":!0}),r(_)!=="svelte-1z0nnvi"&&(_.innerHTML=Ut),ve=o(e),H=p(e,"UL",{"data-svelte-h":!0}),r(H)!=="svelte-1aq803m"&&(H.innerHTML=ft),ke=o(e),S=p(e,"P",{"data-svelte-h":!0}),r(S)!=="svelte-12sq5c4"&&(S.textContent=bt),Be=o(e),d(Q.$$.fragment,e),Ge=o(e),A=p(e,"P",{"data-svelte-h":!0}),r(A)!=="svelte-lya5ne"&&(A.textContent=Tt),Re=o(e),d(W.$$.fragment,e),$e=o(e),w=p(e,"IFRAME",{src:!0,frameborder:!0,height:!0,title:!0,class:!0,allow:!0,sandbox:!0}),x(w).forEach(l),Ee=o(e),X=p(e,"P",{"data-svelte-h":!0}),r(X)!=="svelte-wvzmkp"&&(X.textContent=Ct),Ze=o(e),g=p(e,"OL",{});var C=x(g);I=p(C,"LI",{});var we=x(I);de=p(we,"P",{"data-svelte-h":!0}),r(de)!=="svelte-1andatl"&&(de.innerHTML=Jt),ct=o(we),d(v.$$.fragment,we),ut=Nt(we,`
The order in which you instantiate components matters as each element gets rendered into the web app in the order it was created. (More complex layouts are discussed below)`),we.forEach(l),dt=o(C),he=p(C,"LI",{"data-svelte-h":!0}),r(he)!=="svelte-12zx6x9"&&(he.innerHTML=jt),ht=o(C),ye=p(C,"LI",{"data-svelte-h":!0}),r(ye)!=="svelte-bkbklq"&&(ye.innerHTML=xt),yt=o(C),me=p(C,"LI",{"data-svelte-h":!0}),r(me)!=="svelte-adpuz1"&&(me.innerHTML=It),C.forEach(l),_e=o(e),d(V.$$.fragment,e),He=o(e),z=p(e,"P",{"data-svelte-h":!0}),r(z)!=="svelte-xbwbxn"&&(z.innerHTML=vt),Se=o(e),L=p(e,"P",{"data-svelte-h":!0}),r(L)!=="svelte-1b3722y"&&(L.innerHTML=kt),Qe=o(e),Y=p(e,"P",{"data-svelte-h":!0}),r(Y)!=="svelte-1vziw5t"&&(Y.innerHTML=Bt),Ae=o(e),N=p(e,"P",{"data-svelte-h":!0}),r(N)!=="svelte-1blpsqu"&&(N.innerHTML=Gt),We=o(e),d(q.$$.fragment,e),Xe=o(e),U=p(e,"IFRAME",{src:!0,frameborder:!0,height:!0,title:!0,class:!0,allow:!0,sandbox:!0}),x(U).forEach(l),Ve=o(e),F=p(e,"P",{"data-svelte-h":!0}),r(F)!=="svelte-dh4xss"&&(F.innerHTML=$t),ze=o(e),d(P.$$.fragment,e),Le=o(e),K=p(e,"P",{"data-svelte-h":!0}),r(K)!=="svelte-umhva7"&&(K.innerHTML=Et),Ye=o(e),D=p(e,"P",{"data-svelte-h":!0}),r(D)!=="svelte-7a3cem"&&(D.innerHTML=Zt),Ne=o(e),O=p(e,"P",{"data-svelte-h":!0}),r(O)!=="svelte-1yxg48f"&&(O.innerHTML=_t),qe=o(e),ee=p(e,"UL",{"data-svelte-h":!0}),r(ee)!=="svelte-1hhjtd0"&&(ee.innerHTML=Ht),Fe=o(e),te=p(e,"P",{"data-svelte-h":!0}),r(te)!=="svelte-y8si09"&&(te.textContent=St),Pe=o(e),d(le.$$.fragment,e),Ke=o(e),f=p(e,"IFRAME",{src:!0,frameborder:!0,height:!0,title:!0,class:!0,allow:!0,sandbox:!0}),x(f).forEach(l),De=o(e),d(se.$$.fragment,e),Oe=o(e),ae=p(e,"P",{"data-svelte-h":!0}),r(ae)!=="svelte-1176ewn"&&(ae.innerHTML=At),et=o(e),d(oe.$$.fragment,e),tt=o(e),b=p(e,"IFRAME",{src:!0,frameborder:!0,height:!0,title:!0,class:!0,allow:!0,sandbox:!0}),x(b).forEach(l),lt=o(e),d(ne.$$.fragment,e),st=o(e),ie=p(e,"P",{"data-svelte-h":!0}),r(ie)!=="svelte-14gx35y"&&(ie.innerHTML=Xt),at=o(e),pe=p(e,"P",{"data-svelte-h":!0}),r(pe)!=="svelte-1ot4ibu"&&(pe.textContent=Vt),ot=o(e),d(re.$$.fragment,e),nt=o(e),T=p(e,"IFRAME",{src:!0,frameborder:!0,height:!0,title:!0,class:!0,allow:!0,sandbox:!0}),x(T).forEach(l),it=o(e),ce=p(e,"P",{"data-svelte-h":!0}),r(ce)!=="svelte-t9y78i"&&(ce.innerHTML=Lt),pt=o(e),Me=p(e,"P",{}),x(Me).forEach(l),this.h()},h(){n(c,"name","hf:doc:metadata"),n(c,"content",sl),Ue(w.src,gt="https://course-demos-flip-text.hf.space")||n(w,"src",gt),n(w,"frameborder","0"),n(w,"height","400"),n(w,"title","Gradio app"),n(w,"class","container p-0 flex-grow space-iframe"),n(w,"allow","accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking"),n(w,"sandbox","allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"),Ue(U.src,Rt="https://course-demos-flip-text-image.hf.space")||n(U,"src",Rt),n(U,"frameborder","0"),n(U,"height","450"),n(U,"title","Gradio app"),n(U,"class","container p-0 flex-grow space-iframe"),n(U,"allow","accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking"),n(U,"sandbox","allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"),Ue(f.src,Qt="https://course-demos-blocks-gpt.hf.space")||n(f,"src",Qt),n(f,"frameborder","0"),n(f,"height","300"),n(f,"title","Gradio app"),n(f,"class","container p-0 flex-grow space-iframe"),n(f,"allow","accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking"),n(f,"sandbox","allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"),Ue(b.src,Wt="https://course-demos-blocks-multi-step.hf.space")||n(b,"src",Wt),n(b,"frameborder","0"),n(b,"height","600"),n(b,"title","Gradio app"),n(b,"class","container p-0 flex-grow space-iframe"),n(b,"allow","accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking"),n(b,"sandbox","allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads"),Ue(T.src,zt="https://course-demos-blocks-update-component-properties.hf.space")||n(T,"src",zt),n(T,"frameborder","0"),n(T,"height","300"),n(T,"title","Gradio app"),n(T,"class","container p-0 flex-grow space-iframe"),n(T,"allow","accelerometer; ambient-light-sensor; autoplay; battery; camera; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking"),n(T,"sandbox","allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-downloads")},m(e,t){J(document.head,c),s(e,j,t),s(e,k,t),s(e,Te,t),h(B,e,t),s(e,ge,t),h(G,e,t),s(e,Ce,t),s(e,R,t),s(e,Je,t),s(e,$,t),s(e,je,t),s(e,E,t),s(e,xe,t),h(Z,e,t),s(e,Ie,t),s(e,_,t),s(e,ve,t),s(e,H,t),s(e,ke,t),s(e,S,t),s(e,Be,t),h(Q,e,t),s(e,Ge,t),s(e,A,t),s(e,Re,t),h(W,e,t),s(e,$e,t),s(e,w,t),s(e,Ee,t),s(e,X,t),s(e,Ze,t),s(e,g,t),J(g,I),J(I,de),J(I,ct),h(v,I,null),J(I,ut),J(g,dt),J(g,he),J(g,ht),J(g,ye),J(g,yt),J(g,me),s(e,_e,t),h(V,e,t),s(e,He,t),s(e,z,t),s(e,Se,t),s(e,L,t),s(e,Qe,t),s(e,Y,t),s(e,Ae,t),s(e,N,t),s(e,We,t),h(q,e,t),s(e,Xe,t),s(e,U,t),s(e,Ve,t),s(e,F,t),s(e,ze,t),h(P,e,t),s(e,Le,t),s(e,K,t),s(e,Ye,t),s(e,D,t),s(e,Ne,t),s(e,O,t),s(e,qe,t),s(e,ee,t),s(e,Fe,t),s(e,te,t),s(e,Pe,t),h(le,e,t),s(e,Ke,t),s(e,f,t),s(e,De,t),h(se,e,t),s(e,Oe,t),s(e,ae,t),s(e,et,t),h(oe,e,t),s(e,tt,t),s(e,b,t),s(e,lt,t),h(ne,e,t),s(e,st,t),s(e,ie,t),s(e,at,t),s(e,pe,t),s(e,ot,t),h(re,e,t),s(e,nt,t),s(e,T,t),s(e,it,t),s(e,ce,t),s(e,pt,t),s(e,Me,t),rt=!0},p(e,[t]){const C={};t&2&&(C.$$scope={dirty:t,ctx:e}),v.$set(C)},i(e){rt||(y(B.$$.fragment,e),y(G.$$.fragment,e),y(Z.$$.fragment,e),y(Q.$$.fragment,e),y(W.$$.fragment,e),y(v.$$.fragment,e),y(V.$$.fragment,e),y(q.$$.fragment,e),y(P.$$.fragment,e),y(le.$$.fragment,e),y(se.$$.fragment,e),y(oe.$$.fragment,e),y(ne.$$.fragment,e),y(re.$$.fragment,e),rt=!0)},o(e){m(B.$$.fragment,e),m(G.$$.fragment,e),m(Z.$$.fragment,e),m(Q.$$.fragment,e),m(W.$$.fragment,e),m(v.$$.fragment,e),m(V.$$.fragment,e),m(q.$$.fragment,e),m(P.$$.fragment,e),m(le.$$.fragment,e),m(se.$$.fragment,e),m(oe.$$.fragment,e),m(ne.$$.fragment,e),m(re.$$.fragment,e),rt=!1},d(e){e&&(l(j),l(k),l(Te),l(ge),l(Ce),l(R),l(Je),l($),l(je),l(E),l(xe),l(Ie),l(_),l(ve),l(H),l(ke),l(S),l(Be),l(Ge),l(A),l(Re),l($e),l(w),l(Ee),l(X),l(Ze),l(g),l(_e),l(He),l(z),l(Se),l(L),l(Qe),l(Y),l(Ae),l(N),l(We),l(Xe),l(U),l(Ve),l(F),l(ze),l(Le),l(K),l(Ye),l(D),l(Ne),l(O),l(qe),l(ee),l(Fe),l(te),l(Pe),l(Ke),l(f),l(De),l(Oe),l(ae),l(et),l(tt),l(b),l(lt),l(st),l(ie),l(at),l(pe),l(ot),l(nt),l(T),l(it),l(ce),l(pt),l(Me)),l(c),M(B,e),M(G,e),M(Z,e),M(Q,e),M(W,e),M(v),M(V,e),M(q,e),M(P,e),M(le,e),M(se,e),M(oe,e),M(ne,e),M(re,e)}}}const sl='{"title":"Introduction to Gradio Blocks","local":"introduction-to-gradio-blocks","sections":[{"title":"Why Blocks üß±?","local":"why-blocks-","sections":[],"depth":3},{"title":"Creating a simple demo using Blocks","local":"creating-a-simple-demo-using-blocks","sections":[],"depth":3},{"title":"Customizing the layout of your demo","local":"customizing-the-layout-of-your-demo","sections":[],"depth":3},{"title":"Exploring events and state","local":"exploring-events-and-state","sections":[],"depth":3},{"title":"Creating multi-step demos","local":"creating-multi-step-demos","sections":[],"depth":3},{"title":"Updating Component Properties","local":"updating-component-properties","sections":[],"depth":3}],"depth":1}';function al(be){return Ft(()=>{new URLSearchParams(window.location.search).get("fw")}),[]}class ul extends Pt{constructor(c){super(),Kt(this,c,al,ll,qt,{})}}export{ul as component};
